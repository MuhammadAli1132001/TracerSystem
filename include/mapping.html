<!DOCTYPE html>
<html>
<head>
    <title>Location Display</title>
    <link rel="stylesheet" href="mapstyle.css">

</head>
<body>
    
    <button id = "control-button"> stop</button>
    
    <h1>Location Display </h1> 
    <div id="map"></div>
   
    <script>
        // of My Eletrical Vehical
    var latitude = 34.100305;                                     // Replace with your latitude value
    var longitude = 71.477271;                                    // Replace with your longitude value 
    var latitude2 = 34.100105;                                     // Replace with your latitude value
    var longitude2 = 71.477271;                                    // Replace with your longitude value 

    function sleep(ms) {
         return new Promise(resolve => setTimeout(resolve, ms));
      }
      
        async function initMap() {
                                                                               
            var defaultLocation = { lat: latitude, lng: longitude };                // Default coordinates (e.g., balakot Swat City)
            var defaultLocation2 = { lat: latitude2, lng: longitude2 };                // Default coordinates (e.g., balakot Swat City)

            var delay =1000;

                var map = new google.maps.Map(document.getElementById('map'), {     // Create a map object and specify the DOM element for display.
                    center: defaultLocation,
                    zoom: 15
                });

                var map = new google.maps.Map(document.getElementById('map'), {     // Create a map object and specify the DOM element for display.
                    center: defaultLocation2,
                    zoom: 15
                });
                            
            for (let i = 0; i < 20; i++)
            {                                                                   // Retrieve latitude and longitude values from user input or other sources                                                                      
                var location = new google.maps.LatLng(latitude, longitude);     // Create a new LatLng object using the latitude and longitude values                                                           
                map.setCenter(location);                                        // Set the map center to the retrieved location

                var location2 = new google.maps.LatLng(latitude2, longitude2);
                map.setCenter(location2);

                var marker = new google.maps.Marker({                           // Create a marker at the retrieved location
                    position: location,
                    map: map,
                    title: 'Location'                                           //icon: 'link' -- if we want an image icon as marker
                });

                var marker2 = new google.maps.Marker({                           // Create a marker at the retrieved location
                    position: location2,
                    map: map,
                    title: 'Location2'                                           //icon: 'link' -- if we want an image icon as marker
                });

                var ghal = new google.maps.InfoWindow({                           //marker labal on click
                    content: '<h1> Ghal dady </h1>'
                });

                var ghal2 = new google.maps.InfoWindow({                           //marker labal on click
                    content: '<h1> Ghal dady </h1>'
                });

                marker.addListener('click', function(){                            //listen onclick
                    ghal.open(map, marker);
                }); 

                marker2.addListener('click', function(){                           //listen onclick
                    ghal2.open(map, marker2);
                }); 

             latitude = latitude + 0.001;
             longitude2 = longitude2 + 0.001;

             await sleep(delay);  

           }
        }
    
    // function delay(i) {
    // setTimeout(function() {}, 1000 * i);
    // }

    </script>
    <!-- Load the Maps JavaScript API -->
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap">
    </script>
</body>
</html>
